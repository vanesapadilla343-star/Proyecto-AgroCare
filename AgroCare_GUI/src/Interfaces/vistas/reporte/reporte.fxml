<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Interfaces.vistas.reporte.ReporteController"
            prefWidth="900" prefHeight="650"
            style="-fx-background-color: #f0f0f0;">

    <children>
        <VBox spacing="15" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
              AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">

            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- 1️⃣ Título -->
            <VBox spacing="5">
                <Label text="Gestión de Reportes" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                <Label text="Genera y administra tus reportes de producción" style="-fx-font-size: 14px; -fx-text-fill: #555;"/>
            </VBox> 

            <!-- 2️⃣ Sección principal -->
            <HBox spacing="30" alignment="TOP_LEFT" VBox.vgrow="ALWAYS">

                <!-- Panel izquierdo: generación de reporte + búsqueda + tabla -->
                <VBox spacing="12" prefWidth="550">
                    <!-- Campos para generar reporte -->
                    <VBox spacing="5">
                        <Label text="Nombre Temporada:" style="-fx-font-size: 14px;"/>
                        <TextField fx:id="txtTemporada"
                                   promptText="Ej: Temporada Invierno 2025"
                                   prefWidth="520" prefHeight="35"
                                   style="-fx-font-size: 14px;"/>
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Fecha Inicio:" style="-fx-font-size: 14px;"/>
                        <DatePicker fx:id="dpFechaInicio"
                                    prefWidth="520" prefHeight="35"/>
                    </VBox>

                    <VBox spacing="5">
                        <Label text="Fecha Fin:" style="-fx-font-size: 14px;"/>
                        <DatePicker fx:id="dpFechaFin"
                                    prefWidth="520" prefHeight="35"/>
                    </VBox>

                    <Button text="Generar Reporte"
                            fx:id="btnGenerar"
                            prefWidth="520" prefHeight="35"
                            style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-size: 14px;"/>

                    <!-- Búsqueda de reportes -->
                    <VBox spacing="5" VBox.vgrow="ALWAYS">
                        <Label text="Buscar por Temporada:" style="-fx-font-size: 14px;"/>
                        <TextField fx:id="txtBuscarReporte"
                                   promptText="Nombre de temporada..."
                                   prefHeight="35" style="-fx-font-size: 14px;"/>

                        <!-- Tabla de reportes -->
                        <TableView fx:id="tblReportes" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn text="ID" fx:id="colId" />
                                <TableColumn text="Temporada" fx:id="colTemporada"/>
                                <TableColumn text="Fecha Inicio" fx:id="colFechaInicio"/>
                                <TableColumn text="Fecha Fin" fx:id="colFechaFin"/>
                                <TableColumn text="Acciones" fx:id="colAcciones"/>
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                            </columnResizePolicy>
                        </TableView>
                    </VBox>
                </VBox>

                <!-- Panel derecho: visualización del reporte (más delgadito) -->
                <VBox spacing="10" HBox.hgrow="ALWAYS" alignment="TOP_LEFT">
                    <Label text="Reporte Generado:" style="-fx-font-size: 14px;"/>
                    <TextArea fx:id="taReporteGenerado"
                              wrapText="true" editable="false"
                              style="-fx-font-size: 13px; -fx-font-family: monospace;"
                              VBox.vgrow="ALWAYS"/>
                    <Button text="Guardar Reporte"
                            fx:id="btnGuardarReporte"
                            prefWidth="200" prefHeight="35"
                            style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-size: 14px;"
                            disable="true"/>
                </VBox>

            </HBox>
        </VBox>
    </children>
</AnchorPane>
